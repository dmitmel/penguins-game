<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>penguins: BotState Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">penguins
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('structBotState.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a> &#124;
<a href="#related">Related Functions</a>  </div>
  <div class="headertitle">
<div class="title">BotState Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Contains temporary data created during the evaluation of bot's moves. </p>
<p>Unlike the <a class="el" href="structGame.html" title="The central struct of the application, holds the game data and settings.">Game</a>, this is really just a complementary struct for <a class="el" href="structBotState.html#ad9ca662bd40233c10ea853f87d01d81c" title="Computes the best move for the current player given the current game state.">bot_compute_move</a> and <a class="el" href="structBotState.html#a00dba948f3f7320057341a44ca383def" title="Computes the best placement for the current player given the current game state.">bot_compute_placement</a> and less of a class in the OOP sense, though it is implemented as such (refer to the documentation of <a class="el" href="structGame.html" title="The central struct of the application, holds the game data and settings.">Game</a> for the explanation). The primary reason for this being the autonomous mode, where the program is invoked each time just to make a single move and is not kept alive for the entire game, meaning that we can't have some additional state (<em>unless</em> we store it in a file, which I didn't want to do to keep things simple). Hence the logic in the autonomous mode and, therefore, the bot algorithm, is generally stateless or, in other words, "fire and forget" &ndash; at any point of the game, you can create a <a class="el" href="structBotState.html" title="Contains temporary data created during the evaluation of bot&#39;s moves.">BotState</a>, which stores only the intermediate data, compute and make a move, and then destroy it (though of course the <a class="el" href="structBotState.html" title="Contains temporary data created during the evaluation of bot&#39;s moves.">BotState</a> objects can be reused later). You could say that this kind of makes the bot algorithm a function of the game state in the mathematical sense.</p>
<p>For the purposes of recursive evaluation (see <a class="el" href="structBotState.html#ad9ca662bd40233c10ea853f87d01d81c" title="Computes the best move for the current player given the current game state.">bot_compute_move</a>), the <a class="el" href="structBotState.html" title="Contains temporary data created during the evaluation of bot&#39;s moves.">BotState</a> is actually represented as a linked list (because why not) of substates. Also, it keeps around the previously allocated memory blocks for lists (the <code>_cap</code> fields are for capacity of the lists) because constantly making the OS allocate and free temporary buffers is slow, but also since this makes the overall memory management in the bot much simpler &ndash; every function can return whenever and not care about freeing stuff because <a class="el" href="structBotState.html#a4606f35fae12e3db276a456072f7bd90" title="Recursively destroys a BotState and its substates (similarly to game_free).">bot_state_free</a> will free everything in the end.</p>
<p>Additional note regarding the rating functions (<a class="el" href="structBotState.html#af8f0daf2049bdd39652f489db565bf60" title="Assigns a score to the placement at the given coordinates.">bot_rate_placement</a> and <a class="el" href="structBotState.html#a6751a836b13b83085d4f3244d4cb29aa" title="The heart of the bot, assigns a score to the given move according to its usefulness.">bot_rate_move</a>): all score calculations are performed with integers and not floats because integer arithmetic is faster (though marginally on modern CPUs) than floating point one, and we need to perform A LOT of it. </p>

<p class="definition">Definition at line <a class="el" href="bot_8h_source.html#l00101">101</a> of file <a class="el" href="bot_8h_source.html">bot.h</a>.</p>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:aa9187019d4fb667608b042bdf72a871f"><td class="memItemLeft" align="right" valign="top">volatile bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBotState.html#aa9187019d4fb667608b042bdf72a871f">cancelled</a></td></tr>
<tr class="memdesc:aa9187019d4fb667608b042bdf72a871f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Can be set to <code>true</code> from another thread to cancel the move evaluation.  <a href="structBotState.html#aa9187019d4fb667608b042bdf72a871f">More...</a><br /></td></tr>
<tr class="separator:aa9187019d4fb667608b042bdf72a871f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">References to other stuff</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>The <a class="el" href="structBotState.html" title="Contains temporary data created during the evaluation of bot&#39;s moves.">BotState</a> isn't responsible for freeing these. </p>
</div></td></tr>
<tr class="memitem:a629ce1c33e03b5e8b331b81053c3be4b"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structBotParameters.html">BotParameters</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBotState.html#a629ce1c33e03b5e8b331b81053c3be4b">params</a></td></tr>
<tr class="memdesc:a629ce1c33e03b5e8b331b81053c3be4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shouldn't be changed while the bot is running (hence marked as <code>const</code>).  <a href="structBotState.html#a629ce1c33e03b5e8b331b81053c3be4b">More...</a><br /></td></tr>
<tr class="separator:a629ce1c33e03b5e8b331b81053c3be4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0383fdb4cf19f0a2a907c6ee41b80ee"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structGame.html">Game</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBotState.html#ab0383fdb4cf19f0a2a907c6ee41b80ee">game</a></td></tr>
<tr class="memdesc:ab0383fdb4cf19f0a2a907c6ee41b80ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">May be modified during the move evaluation, but once the job is done the <a class="el" href="structGame.html" title="The central struct of the application, holds the game data and settings.">Game</a> will be returned to its original state.  <a href="structBotState.html#ab0383fdb4cf19f0a2a907c6ee41b80ee">More...</a><br /></td></tr>
<tr class="separator:ab0383fdb4cf19f0a2a907c6ee41b80ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f8443111b08ebae835e026d8ba688f7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structRng.html">Rng</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBotState.html#a4f8443111b08ebae835e026d8ba688f7">rng</a></td></tr>
<tr class="memdesc:a4f8443111b08ebae835e026d8ba688f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Just the <a class="el" href="structRng.html" title="A wrapper around random number generators.">Rng</a>, nothing special.  <a href="structBotState.html#a4f8443111b08ebae835e026d8ba688f7">More...</a><br /></td></tr>
<tr class="separator:a4f8443111b08ebae835e026d8ba688f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Substates</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>See <a class="el" href="structBotState.html#ae8fd49c636f2d91394922f3135a6e90c" title="Allocates BotState::substate if necessary and returns it.">bot_enter_substate</a>. </p>
</div></td></tr>
<tr class="memitem:a28bb94944a3bc3c8c15830ad9b208e1e"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structBotState.html">BotState</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBotState.html#a28bb94944a3bc3c8c15830ad9b208e1e">substate</a></td></tr>
<tr class="memdesc:a28bb94944a3bc3c8c15830ad9b208e1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The link to the next recursive substate. Substates are allocated on demand by <a class="el" href="structBotState.html#ae8fd49c636f2d91394922f3135a6e90c" title="Allocates BotState::substate if necessary and returns it.">bot_enter_substate</a>.  <a href="structBotState.html#a28bb94944a3bc3c8c15830ad9b208e1e">More...</a><br /></td></tr>
<tr class="separator:a28bb94944a3bc3c8c15830ad9b208e1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abce3cab538899a828f69a97832b9fe61"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBotState.html#abce3cab538899a828f69a97832b9fe61">depth</a></td></tr>
<tr class="memdesc:abce3cab538899a828f69a97832b9fe61"><td class="mdescLeft">&#160;</td><td class="mdescRight">The recursion depth of the current state, starts at 0 for the base state and increases in substates.  <a href="structBotState.html#abce3cab538899a828f69a97832b9fe61">More...</a><br /></td></tr>
<tr class="separator:abce3cab538899a828f69a97832b9fe61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Allocation caches</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>See also <a class="el" href="bot_8c.html#a187b763475a2ab4f8505b2da8571e17b" title="A helper for allocating the buffers cached within the BotState.">bot_alloc_buf</a>. </p>
</div></td></tr>
<tr class="memitem:ad75918571c4b34fe9709c3f931263fd1"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBotState.html#ad75918571c4b34fe9709c3f931263fd1">tile_coords_cap</a></td></tr>
<tr class="separator:ad75918571c4b34fe9709c3f931263fd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0716b7486a8f88fa4ad7b97d996c0c8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structCoords.html">Coords</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBotState.html#ad0716b7486a8f88fa4ad7b97d996c0c8">tile_coords</a></td></tr>
<tr class="separator:ad0716b7486a8f88fa4ad7b97d996c0c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4edfb71eeef8c4ef1c4dad4f452103a2"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBotState.html#a4edfb71eeef8c4ef1c4dad4f452103a2">tile_scores_cap</a></td></tr>
<tr class="separator:a4edfb71eeef8c4ef1c4dad4f452103a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5868973595ae2fddc3b6a841df0d882"><td class="memItemLeft" align="right" valign="top">int *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBotState.html#af5868973595ae2fddc3b6a841df0d882">tile_scores</a></td></tr>
<tr class="separator:af5868973595ae2fddc3b6a841df0d882"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5bfc863c6e66478ff5d6dd495ecf8cf"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBotState.html#ae5bfc863c6e66478ff5d6dd495ecf8cf">possible_steps_cap</a></td></tr>
<tr class="separator:ae5bfc863c6e66478ff5d6dd495ecf8cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f7cfae6243af70bef4c12606a60a7cd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structPossibleSteps.html">PossibleSteps</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBotState.html#a1f7cfae6243af70bef4c12606a60a7cd">possible_steps</a></td></tr>
<tr class="separator:a1f7cfae6243af70bef4c12606a60a7cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06a1ff2e638bc4893d66c99f51f93688"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBotState.html#a06a1ff2e638bc4893d66c99f51f93688">all_moves_cap</a></td></tr>
<tr class="separator:a06a1ff2e638bc4893d66c99f51f93688"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4ca3a0fc3be83ac7b3f7f6d14e1d9df"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structBotMove.html">BotMove</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBotState.html#af4ca3a0fc3be83ac7b3f7f6d14e1d9df">all_moves</a></td></tr>
<tr class="separator:af4ca3a0fc3be83ac7b3f7f6d14e1d9df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ca57cd13bb8c762993754a1d0983bff"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBotState.html#a5ca57cd13bb8c762993754a1d0983bff">move_scores_cap</a></td></tr>
<tr class="separator:a5ca57cd13bb8c762993754a1d0983bff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0572333fc516de84d1c09fe782289357"><td class="memItemLeft" align="right" valign="top">int *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBotState.html#a0572333fc516de84d1c09fe782289357">move_scores</a></td></tr>
<tr class="separator:a0572333fc516de84d1c09fe782289357"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1709924816385877d1780ae661542fc6"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBotState.html#a1709924816385877d1780ae661542fc6">fill_grid1_cap</a></td></tr>
<tr class="separator:a1709924816385877d1780ae661542fc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1180c78c36561103869f80a92c68059"><td class="memItemLeft" align="right" valign="top">short *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBotState.html#aa1180c78c36561103869f80a92c68059">fill_grid1</a></td></tr>
<tr class="separator:aa1180c78c36561103869f80a92c68059"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4b1ce90f7b535cd96cd1afb6f4a6cb6"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBotState.html#ae4b1ce90f7b535cd96cd1afb6f4a6cb6">fill_grid2_cap</a></td></tr>
<tr class="separator:ae4b1ce90f7b535cd96cd1afb6f4a6cb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dfcfc8e8cd4453332d46ae36d9a2ded"><td class="memItemLeft" align="right" valign="top">short *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBotState.html#a6dfcfc8e8cd4453332d46ae36d9a2ded">fill_grid2</a></td></tr>
<tr class="separator:a6dfcfc8e8cd4453332d46ae36d9a2ded"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3409a75c0fdf51bf26f2bba77fef18f7"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBotState.html#a3409a75c0fdf51bf26f2bba77fef18f7">fill_stack_cap</a></td></tr>
<tr class="separator:a3409a75c0fdf51bf26f2bba77fef18f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c2afa2ba0c3218cf8c1e2545e0e3c69"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structFillSpan.html">FillSpan</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBotState.html#a1c2afa2ba0c3218cf8c1e2545e0e3c69">fill_stack</a></td></tr>
<tr class="separator:a1c2afa2ba0c3218cf8c1e2545e0e3c69"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="related"></a>
Related Functions</h2></td></tr>
<tr><td class="ititle" colspan="2"><p>(Note that these are not member functions.) </p>
</td></tr>
<tr class="memitem:acc6db63a2de47e95b3d7cc0965703d6a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structBotState.html">BotState</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBotState.html#acc6db63a2de47e95b3d7cc0965703d6a">bot_state_new</a> (const <a class="el" href="structBotParameters.html">BotParameters</a> *<a class="el" href="structBotState.html#a629ce1c33e03b5e8b331b81053c3be4b">params</a>, <a class="el" href="structGame.html">Game</a> *<a class="el" href="structBotState.html#ab0383fdb4cf19f0a2a907c6ee41b80ee">game</a>, <a class="el" href="structRng.html">Rng</a> *<a class="el" href="structBotState.html#a4f8443111b08ebae835e026d8ba688f7">rng</a>)</td></tr>
<tr class="memdesc:acc6db63a2de47e95b3d7cc0965703d6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a <a class="el" href="structBotState.html" title="Contains temporary data created during the evaluation of bot&#39;s moves.">BotState</a> (similarly <a class="el" href="structGame.html#ae95f3f05659adb948bd4c5eeabc04ad1" title="Constructs a Game. Allocates memory for storing the struct itself, setting all fields to default valu...">game_new</a>).  <a href="structBotState.html#acc6db63a2de47e95b3d7cc0965703d6a">More...</a><br /></td></tr>
<tr class="separator:acc6db63a2de47e95b3d7cc0965703d6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4606f35fae12e3db276a456072f7bd90"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBotState.html#a4606f35fae12e3db276a456072f7bd90">bot_state_free</a> (<a class="el" href="structBotState.html">BotState</a> *self)</td></tr>
<tr class="memdesc:a4606f35fae12e3db276a456072f7bd90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recursively destroys a <a class="el" href="structBotState.html" title="Contains temporary data created during the evaluation of bot&#39;s moves.">BotState</a> and its substates (similarly to <a class="el" href="structGame.html#af64165d4f5957d0d4ca0715f38082cc5" title="Destroys a Game, freeing the memory allocated for the struct itself and all associated internal lists...">game_free</a>).  <a href="structBotState.html#a4606f35fae12e3db276a456072f7bd90">More...</a><br /></td></tr>
<tr class="separator:a4606f35fae12e3db276a456072f7bd90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8fd49c636f2d91394922f3135a6e90c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structBotState.html">BotState</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBotState.html#ae8fd49c636f2d91394922f3135a6e90c">bot_enter_substate</a> (<a class="el" href="structBotState.html">BotState</a> *self)</td></tr>
<tr class="memdesc:ae8fd49c636f2d91394922f3135a6e90c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates <a class="el" href="structBotState.html#a28bb94944a3bc3c8c15830ad9b208e1e" title="The link to the next recursive substate. Substates are allocated on demand by bot_enter_substate.">BotState::substate</a> if necessary and returns it.  <a href="structBotState.html#ae8fd49c636f2d91394922f3135a6e90c">More...</a><br /></td></tr>
<tr class="separator:ae8fd49c636f2d91394922f3135a6e90c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00dba948f3f7320057341a44ca383def"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBotState.html#a00dba948f3f7320057341a44ca383def">bot_compute_placement</a> (<a class="el" href="structBotState.html">BotState</a> *self, <a class="el" href="structCoords.html">Coords</a> *out_target)</td></tr>
<tr class="memdesc:a00dba948f3f7320057341a44ca383def"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the best placement for the current player given the current game state.  <a href="structBotState.html#a00dba948f3f7320057341a44ca383def">More...</a><br /></td></tr>
<tr class="separator:a00dba948f3f7320057341a44ca383def"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8f0daf2049bdd39652f489db565bf60"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBotState.html#af8f0daf2049bdd39652f489db565bf60">bot_rate_placement</a> (<a class="el" href="structBotState.html">BotState</a> *self, <a class="el" href="structCoords.html">Coords</a> penguin)</td></tr>
<tr class="memdesc:af8f0daf2049bdd39652f489db565bf60"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assigns a score to the placement at the given coordinates.  <a href="structBotState.html#af8f0daf2049bdd39652f489db565bf60">More...</a><br /></td></tr>
<tr class="separator:af8f0daf2049bdd39652f489db565bf60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9ca662bd40233c10ea853f87d01d81c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBotState.html#ad9ca662bd40233c10ea853f87d01d81c">bot_compute_move</a> (<a class="el" href="structBotState.html">BotState</a> *self, <a class="el" href="structCoords.html">Coords</a> *out_penguin, <a class="el" href="structCoords.html">Coords</a> *out_target)</td></tr>
<tr class="memdesc:ad9ca662bd40233c10ea853f87d01d81c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the best move for the current player given the current game state.  <a href="structBotState.html#ad9ca662bd40233c10ea853f87d01d81c">More...</a><br /></td></tr>
<tr class="separator:ad9ca662bd40233c10ea853f87d01d81c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73ab8326a8d4fdf52efeb7a604706306"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structBotMove.html">BotMove</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBotState.html#a73ab8326a8d4fdf52efeb7a604706306">bot_generate_all_moves_list</a> (<a class="el" href="structBotState.html">BotState</a> *self, int penguins_count, <a class="el" href="structCoords.html">Coords</a> *penguins, int *moves_count)</td></tr>
<tr class="memdesc:a73ab8326a8d4fdf52efeb7a604706306"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a list with all the possible moves (as <code>penguin -&gt; target</code> pairs) of the provided penguins.  <a href="structBotState.html#a73ab8326a8d4fdf52efeb7a604706306">More...</a><br /></td></tr>
<tr class="separator:a73ab8326a8d4fdf52efeb7a604706306"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9de032b0515553e20e0bae6819c112d4"><td class="memItemLeft" align="right" valign="top">int *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBotState.html#a9de032b0515553e20e0bae6819c112d4">bot_rate_moves_list</a> (<a class="el" href="structBotState.html">BotState</a> *self, int moves_count, <a class="el" href="structBotMove.html">BotMove</a> *moves_list)</td></tr>
<tr class="memdesc:a9de032b0515553e20e0bae6819c112d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Applies <a class="el" href="structBotState.html#a6751a836b13b83085d4f3244d4cb29aa" title="The heart of the bot, assigns a score to the given move according to its usefulness.">bot_rate_move</a> to every move in the provided list and returns a pointer to the list of scores.  <a href="structBotState.html#a9de032b0515553e20e0bae6819c112d4">More...</a><br /></td></tr>
<tr class="separator:a9de032b0515553e20e0bae6819c112d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6751a836b13b83085d4f3244d4cb29aa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBotState.html#a6751a836b13b83085d4f3244d4cb29aa">bot_rate_move</a> (<a class="el" href="structBotState.html">BotState</a> *self, <a class="el" href="structBotMove.html">BotMove</a> move)</td></tr>
<tr class="memdesc:a6751a836b13b83085d4f3244d4cb29aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">The heart of the bot, assigns a score to the given move according to its usefulness.  <a href="structBotState.html#a6751a836b13b83085d4f3244d4cb29aa">More...</a><br /></td></tr>
<tr class="separator:a6751a836b13b83085d4f3244d4cb29aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90a747f32f7aa32c607e6f069de2f485"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBotState.html#a90a747f32f7aa32c607e6f069de2f485">bot_quick_junction_check</a> (<a class="el" href="structBotState.html">BotState</a> *self, <a class="el" href="structCoords.html">Coords</a> coords)</td></tr>
<tr class="memdesc:a90a747f32f7aa32c607e6f069de2f485"><td class="mdescLeft">&#160;</td><td class="mdescRight">A precondition for junction checks to know if a more expensive flood fill test is necessary.  <a href="structBotState.html#a90a747f32f7aa32c607e6f069de2f485">More...</a><br /></td></tr>
<tr class="separator:a90a747f32f7aa32c607e6f069de2f485"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b3d526ca872f1da98b7d63df3b1792a"><td class="memItemLeft" align="right" valign="top">short *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBotState.html#a7b3d526ca872f1da98b7d63df3b1792a">bot_flood_fill_reset_grid</a> (<a class="el" href="structBotState.html">BotState</a> *self, short **fill_grid, size_t *fill_grid_cap)</td></tr>
<tr class="memdesc:a7b3d526ca872f1da98b7d63df3b1792a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates a grid for use in <a class="el" href="structBotState.html#ad06a633c0dcc623271d461298797a27c" title="Counts all fish accessible within an enclosed area starting at the given point using the flood fill a...">bot_flood_fill_count_fish</a> and fills it with zeroes.  <a href="structBotState.html#a7b3d526ca872f1da98b7d63df3b1792a">More...</a><br /></td></tr>
<tr class="separator:a7b3d526ca872f1da98b7d63df3b1792a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bf2da2da93ae906c47f90b4dea48ad9"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBotState.html#a1bf2da2da93ae906c47f90b4dea48ad9">bot_flood_fill_check</a> (int x, int y, void *data)</td></tr>
<tr class="memdesc:a1bf2da2da93ae906c47f90b4dea48ad9"><td class="mdescLeft">&#160;</td><td class="mdescRight">See <a class="el" href="structBotState.html#ad06a633c0dcc623271d461298797a27c" title="Counts all fish accessible within an enclosed area starting at the given point using the flood fill a...">bot_flood_fill_count_fish</a> and <a class="el" href="bot_8h.html#aa9f801ebdb0ce648c9d0cb0837139fb7" title="An implementation of flood fill using the span filling algorithm.">flood_fill</a>.  <a href="structBotState.html#a1bf2da2da93ae906c47f90b4dea48ad9">More...</a><br /></td></tr>
<tr class="separator:a1bf2da2da93ae906c47f90b4dea48ad9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58c22f56703a5618ce4541a26f903322"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBotState.html#a58c22f56703a5618ce4541a26f903322">bot_flood_fill_mark</a> (int x, int y, void *data)</td></tr>
<tr class="memdesc:a58c22f56703a5618ce4541a26f903322"><td class="mdescLeft">&#160;</td><td class="mdescRight">See <a class="el" href="structBotState.html#ad06a633c0dcc623271d461298797a27c" title="Counts all fish accessible within an enclosed area starting at the given point using the flood fill a...">bot_flood_fill_count_fish</a> and <a class="el" href="bot_8h.html#aa9f801ebdb0ce648c9d0cb0837139fb7" title="An implementation of flood fill using the span filling algorithm.">flood_fill</a>.  <a href="structBotState.html#a58c22f56703a5618ce4541a26f903322">More...</a><br /></td></tr>
<tr class="separator:a58c22f56703a5618ce4541a26f903322"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a360123acc3c6024fd208b20224d65326"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structFillSpan.html">FillSpan</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBotState.html#a360123acc3c6024fd208b20224d65326">bot_flood_fill_alloc_stack</a> (size_t capacity, void *data)</td></tr>
<tr class="memdesc:a360123acc3c6024fd208b20224d65326"><td class="mdescLeft">&#160;</td><td class="mdescRight">See <a class="el" href="structBotState.html#ad06a633c0dcc623271d461298797a27c" title="Counts all fish accessible within an enclosed area starting at the given point using the flood fill a...">bot_flood_fill_count_fish</a> and <a class="el" href="bot_8h.html#aa9f801ebdb0ce648c9d0cb0837139fb7" title="An implementation of flood fill using the span filling algorithm.">flood_fill</a>.  <a href="structBotState.html#a360123acc3c6024fd208b20224d65326">More...</a><br /></td></tr>
<tr class="separator:a360123acc3c6024fd208b20224d65326"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad06a633c0dcc623271d461298797a27c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBotState.html#ad06a633c0dcc623271d461298797a27c">bot_flood_fill_count_fish</a> (<a class="el" href="structBotState.html">BotState</a> *self, short *grid, <a class="el" href="structCoords.html">Coords</a> start, short marker_value)</td></tr>
<tr class="memdesc:ad06a633c0dcc623271d461298797a27c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Counts all fish accessible within an enclosed area starting at the given point using the flood fill algorithm.  <a href="structBotState.html#ad06a633c0dcc623271d461298797a27c">More...</a><br /></td></tr>
<tr class="separator:ad06a633c0dcc623271d461298797a27c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Field Documentation</h2>
<a id="a629ce1c33e03b5e8b331b81053c3be4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a629ce1c33e03b5e8b331b81053c3be4b">&#9670;&nbsp;</a></span>params</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structBotParameters.html">BotParameters</a>* BotState::params</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shouldn't be changed while the bot is running (hence marked as <code>const</code>). </p>

<p class="definition">Definition at line <a class="el" href="bot_8h_source.html#l00107">107</a> of file <a class="el" href="bot_8h_source.html">bot.h</a>.</p>

</div>
</div>
<a id="ab0383fdb4cf19f0a2a907c6ee41b80ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0383fdb4cf19f0a2a907c6ee41b80ee">&#9670;&nbsp;</a></span>game</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structGame.html">Game</a>* BotState::game</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>May be modified during the move evaluation, but once the job is done the <a class="el" href="structGame.html" title="The central struct of the application, holds the game data and settings.">Game</a> will be returned to its original state. </p>

<p class="definition">Definition at line <a class="el" href="bot_8h_source.html#l00110">110</a> of file <a class="el" href="bot_8h_source.html">bot.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="structBotState.html#a1bf2da2da93ae906c47f90b4dea48ad9">bot_flood_fill_check()</a>, and <a class="el" href="structBotState.html#a58c22f56703a5618ce4541a26f903322">bot_flood_fill_mark()</a>.</p>

</div>
</div>
<a id="a4f8443111b08ebae835e026d8ba688f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f8443111b08ebae835e026d8ba688f7">&#9670;&nbsp;</a></span>rng</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structRng.html">Rng</a>* BotState::rng</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Just the <a class="el" href="structRng.html" title="A wrapper around random number generators.">Rng</a>, nothing special. </p>

<p class="definition">Definition at line <a class="el" href="bot_8h_source.html#l00112">112</a> of file <a class="el" href="bot_8h_source.html">bot.h</a>.</p>

</div>
</div>
<a id="a28bb94944a3bc3c8c15830ad9b208e1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28bb94944a3bc3c8c15830ad9b208e1e">&#9670;&nbsp;</a></span>substate</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structBotState.html">BotState</a>* BotState::substate</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The link to the next recursive substate. Substates are allocated on demand by <a class="el" href="structBotState.html#ae8fd49c636f2d91394922f3135a6e90c" title="Allocates BotState::substate if necessary and returns it.">bot_enter_substate</a>. </p>

<p class="definition">Definition at line <a class="el" href="bot_8h_source.html#l00122">122</a> of file <a class="el" href="bot_8h_source.html">bot.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="structBotState.html#ae8fd49c636f2d91394922f3135a6e90c">bot_enter_substate()</a>, and <a class="el" href="structBotState.html#a4606f35fae12e3db276a456072f7bd90">bot_state_free()</a>.</p>

</div>
</div>
<a id="abce3cab538899a828f69a97832b9fe61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abce3cab538899a828f69a97832b9fe61">&#9670;&nbsp;</a></span>depth</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BotState::depth</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The recursion depth of the current state, starts at 0 for the base state and increases in substates. </p>

<p class="definition">Definition at line <a class="el" href="bot_8h_source.html#l00125">125</a> of file <a class="el" href="bot_8h_source.html">bot.h</a>.</p>

</div>
</div>
<a id="aa9187019d4fb667608b042bdf72a871f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9187019d4fb667608b042bdf72a871f">&#9670;&nbsp;</a></span>cancelled</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile bool BotState::cancelled</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Can be set to <code>true</code> from another thread to cancel the move evaluation. </p>
<p>The <code>volatile</code> keyword stops the compiler from being too smart and overoptimizing stuff. For example, given this loop: </p><div class="fragment"><div class="line"><span class="keywordflow">while</span> (!self-&gt;cancelled) {</div>
<div class="line">  do_work();</div>
<div class="line">}</div>
</div><!-- fragment --><p>The compiler will think: "Well, the <code>cancelled</code> flag in the condition doesn't get changed inside the loop, isn't it? No point in constantly loading its value from memory!" and optimize this into: </p><div class="fragment"><div class="line"><span class="keywordflow">if</span> (!self-&gt;cancelled) {</div>
<div class="line">  <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line">    do_work();</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><p>The <code>volatile</code> keyword on the other hand ensures that every time the variable is used, the compiler doesn't optimize away (or reorder) the reads and writes to the memory, and they happen exactly in the way the programmer intended it in the code.</p>
<p>It, <em>however</em>, doesn't ensure synchronized access to the variable (or makes other guarantees) when it is used across multiple threads: for example, the changed value in memory might not be observed immediately by other processor cores (because of memory caches). Multithreading is not really the intended purpose of <code>volatile</code> and such use is generally frowned upon, but in our case its fine, since it isn't used for anything critical &ndash; the bot algorithm simply must be stopped <em>eventually</em> (the precise timing doesn't matter), doesn't require using compiler- or OS-specific thread synchronization facilities like mutexes or atomics (heard that C11 has those built-in), and a simple memory read of a value that almost never gets changed is generally faster than those.</p>
<dl class="section see"><dt>See also</dt><dd><a href="https://en.wikipedia.org/wiki/Volatile_(computer_programming)">https://en.wikipedia.org/wiki/Volatile_(computer_programming)</a> </dd>
<dd>
<a href="https://stackoverflow.com/a/246148/12005228">https://stackoverflow.com/a/246148/12005228</a> </dd>
<dd>
<a href="https://stackoverflow.com/a/2485733/12005228">https://stackoverflow.com/a/2485733/12005228</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="bot_8h_source.html#l00171">171</a> of file <a class="el" href="bot_8h_source.html">bot.h</a>.</p>

</div>
</div>
<a id="ad75918571c4b34fe9709c3f931263fd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad75918571c4b34fe9709c3f931263fd1">&#9670;&nbsp;</a></span>tile_coords_cap</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t BotState::tile_coords_cap</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bot_8h_source.html#l00177">177</a> of file <a class="el" href="bot_8h_source.html">bot.h</a>.</p>

</div>
</div>
<a id="ad0716b7486a8f88fa4ad7b97d996c0c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0716b7486a8f88fa4ad7b97d996c0c8">&#9670;&nbsp;</a></span>tile_coords</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structCoords.html">Coords</a>* BotState::tile_coords</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bot_8h_source.html#l00178">178</a> of file <a class="el" href="bot_8h_source.html">bot.h</a>.</p>

</div>
</div>
<a id="a4edfb71eeef8c4ef1c4dad4f452103a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4edfb71eeef8c4ef1c4dad4f452103a2">&#9670;&nbsp;</a></span>tile_scores_cap</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t BotState::tile_scores_cap</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bot_8h_source.html#l00179">179</a> of file <a class="el" href="bot_8h_source.html">bot.h</a>.</p>

</div>
</div>
<a id="af5868973595ae2fddc3b6a841df0d882"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5868973595ae2fddc3b6a841df0d882">&#9670;&nbsp;</a></span>tile_scores</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int* BotState::tile_scores</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bot_8h_source.html#l00180">180</a> of file <a class="el" href="bot_8h_source.html">bot.h</a>.</p>

</div>
</div>
<a id="ae5bfc863c6e66478ff5d6dd495ecf8cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5bfc863c6e66478ff5d6dd495ecf8cf">&#9670;&nbsp;</a></span>possible_steps_cap</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t BotState::possible_steps_cap</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bot_8h_source.html#l00182">182</a> of file <a class="el" href="bot_8h_source.html">bot.h</a>.</p>

</div>
</div>
<a id="a1f7cfae6243af70bef4c12606a60a7cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f7cfae6243af70bef4c12606a60a7cd">&#9670;&nbsp;</a></span>possible_steps</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structPossibleSteps.html">PossibleSteps</a>* BotState::possible_steps</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bot_8h_source.html#l00183">183</a> of file <a class="el" href="bot_8h_source.html">bot.h</a>.</p>

</div>
</div>
<a id="a06a1ff2e638bc4893d66c99f51f93688"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06a1ff2e638bc4893d66c99f51f93688">&#9670;&nbsp;</a></span>all_moves_cap</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t BotState::all_moves_cap</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bot_8h_source.html#l00184">184</a> of file <a class="el" href="bot_8h_source.html">bot.h</a>.</p>

</div>
</div>
<a id="af4ca3a0fc3be83ac7b3f7f6d14e1d9df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4ca3a0fc3be83ac7b3f7f6d14e1d9df">&#9670;&nbsp;</a></span>all_moves</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structBotMove.html">BotMove</a>* BotState::all_moves</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bot_8h_source.html#l00185">185</a> of file <a class="el" href="bot_8h_source.html">bot.h</a>.</p>

</div>
</div>
<a id="a5ca57cd13bb8c762993754a1d0983bff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ca57cd13bb8c762993754a1d0983bff">&#9670;&nbsp;</a></span>move_scores_cap</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t BotState::move_scores_cap</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bot_8h_source.html#l00186">186</a> of file <a class="el" href="bot_8h_source.html">bot.h</a>.</p>

</div>
</div>
<a id="a0572333fc516de84d1c09fe782289357"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0572333fc516de84d1c09fe782289357">&#9670;&nbsp;</a></span>move_scores</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int* BotState::move_scores</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bot_8h_source.html#l00187">187</a> of file <a class="el" href="bot_8h_source.html">bot.h</a>.</p>

</div>
</div>
<a id="a1709924816385877d1780ae661542fc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1709924816385877d1780ae661542fc6">&#9670;&nbsp;</a></span>fill_grid1_cap</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t BotState::fill_grid1_cap</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bot_8h_source.html#l00188">188</a> of file <a class="el" href="bot_8h_source.html">bot.h</a>.</p>

</div>
</div>
<a id="aa1180c78c36561103869f80a92c68059"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1180c78c36561103869f80a92c68059">&#9670;&nbsp;</a></span>fill_grid1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">short* BotState::fill_grid1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bot_8h_source.html#l00189">189</a> of file <a class="el" href="bot_8h_source.html">bot.h</a>.</p>

</div>
</div>
<a id="ae4b1ce90f7b535cd96cd1afb6f4a6cb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4b1ce90f7b535cd96cd1afb6f4a6cb6">&#9670;&nbsp;</a></span>fill_grid2_cap</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t BotState::fill_grid2_cap</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bot_8h_source.html#l00190">190</a> of file <a class="el" href="bot_8h_source.html">bot.h</a>.</p>

</div>
</div>
<a id="a6dfcfc8e8cd4453332d46ae36d9a2ded"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6dfcfc8e8cd4453332d46ae36d9a2ded">&#9670;&nbsp;</a></span>fill_grid2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">short* BotState::fill_grid2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bot_8h_source.html#l00191">191</a> of file <a class="el" href="bot_8h_source.html">bot.h</a>.</p>

</div>
</div>
<a id="a3409a75c0fdf51bf26f2bba77fef18f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3409a75c0fdf51bf26f2bba77fef18f7">&#9670;&nbsp;</a></span>fill_stack_cap</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t BotState::fill_stack_cap</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bot_8h_source.html#l00192">192</a> of file <a class="el" href="bot_8h_source.html">bot.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="structBotState.html#a360123acc3c6024fd208b20224d65326">bot_flood_fill_alloc_stack()</a>.</p>

</div>
</div>
<a id="a1c2afa2ba0c3218cf8c1e2545e0e3c69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c2afa2ba0c3218cf8c1e2545e0e3c69">&#9670;&nbsp;</a></span>fill_stack</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structFillSpan.html">FillSpan</a>* BotState::fill_stack</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bot_8h_source.html#l00193">193</a> of file <a class="el" href="bot_8h_source.html">bot.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="structBotState.html#a360123acc3c6024fd208b20224d65326">bot_flood_fill_alloc_stack()</a>.</p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a id="acc6db63a2de47e95b3d7cc0965703d6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc6db63a2de47e95b3d7cc0965703d6a">&#9670;&nbsp;</a></span>bot_state_new()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structBotState.html">BotState</a> * bot_state_new </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structBotParameters.html">BotParameters</a> *&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structGame.html">Game</a> *&#160;</td>
          <td class="paramname"><em>game</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structRng.html">Rng</a> *&#160;</td>
          <td class="paramname"><em>rng</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">related</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs a <a class="el" href="structBotState.html" title="Contains temporary data created during the evaluation of bot&#39;s moves.">BotState</a> (similarly <a class="el" href="structGame.html#ae95f3f05659adb948bd4c5eeabc04ad1" title="Constructs a Game. Allocates memory for storing the struct itself, setting all fields to default valu...">game_new</a>). </p>

<p class="definition">Definition at line <a class="el" href="bot_8c_source.html#l00042">42</a> of file <a class="el" href="bot_8c_source.html">bot.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="structBotState.html#ae8fd49c636f2d91394922f3135a6e90c">bot_enter_substate()</a>, and <a class="el" href="autonomous_8c.html#a2a92aa6a15bdfc741aa5a1a7094b3bc2">run_autonomous_mode()</a>.</p>

</div>
</div>
<a id="a4606f35fae12e3db276a456072f7bd90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4606f35fae12e3db276a456072f7bd90">&#9670;&nbsp;</a></span>bot_state_free()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void bot_state_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structBotState.html">BotState</a> *&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">related</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Recursively destroys a <a class="el" href="structBotState.html" title="Contains temporary data created during the evaluation of bot&#39;s moves.">BotState</a> and its substates (similarly to <a class="el" href="structGame.html#af64165d4f5957d0d4ca0715f38082cc5" title="Destroys a Game, freeing the memory allocated for the struct itself and all associated internal lists...">game_free</a>). </p>

<p class="definition">Definition at line <a class="el" href="bot_8c_source.html#l00075">75</a> of file <a class="el" href="bot_8c_source.html">bot.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="autonomous_8c.html#a2a92aa6a15bdfc741aa5a1a7094b3bc2">run_autonomous_mode()</a>.</p>

</div>
</div>
<a id="ae8fd49c636f2d91394922f3135a6e90c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8fd49c636f2d91394922f3135a6e90c">&#9670;&nbsp;</a></span>bot_enter_substate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structBotState.html">BotState</a> * bot_enter_substate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structBotState.html">BotState</a> *&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">related</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Allocates <a class="el" href="structBotState.html#a28bb94944a3bc3c8c15830ad9b208e1e" title="The link to the next recursive substate. Substates are allocated on demand by bot_enter_substate.">BotState::substate</a> if necessary and returns it. </p>

<p class="definition">Definition at line <a class="el" href="bot_8c_source.html#l00094">94</a> of file <a class="el" href="bot_8c_source.html">bot.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="structBotState.html#a6751a836b13b83085d4f3244d4cb29aa">bot_rate_move()</a>.</p>

</div>
</div>
<a id="a00dba948f3f7320057341a44ca383def"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00dba948f3f7320057341a44ca383def">&#9670;&nbsp;</a></span>bot_compute_placement()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool bot_compute_placement </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structBotState.html">BotState</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structCoords.html">Coords</a> *&#160;</td>
          <td class="paramname"><em>out_target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">related</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Computes the best placement for the current player given the current game state. </p>
<p>The algorithm for the placement phase is very simple:</p><ol type="1">
<li>Generate a list of valid tiles for placement.</li>
<li>Assign a score to every tile according to the rules in <a class="el" href="structBotState.html#af8f0daf2049bdd39652f489db565bf60" title="Assigns a score to the placement at the given coordinates.">bot_rate_placement</a>.</li>
<li>Pick the tile with the highest score.</li>
</ol>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if the function managed to find a placement, <code>false</code> if there are no possible placements for the player or if the computation was cancelled. The coordinates of the resulting tile are written to <code>out_target</code>. </dd></dl>

<p class="definition">Definition at line <a class="el" href="bot_8c_source.html#l00143">143</a> of file <a class="el" href="bot_8c_source.html">bot.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="autonomous_8c.html#a2a92aa6a15bdfc741aa5a1a7094b3bc2">run_autonomous_mode()</a>.</p>

</div>
</div>
<a id="af8f0daf2049bdd39652f489db565bf60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8f0daf2049bdd39652f489db565bf60">&#9670;&nbsp;</a></span>bot_rate_placement()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int bot_rate_placement </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structBotState.html">BotState</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structCoords.html">Coords</a>&#160;</td>
          <td class="paramname"><em>penguin</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">related</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Assigns a score to the placement at the given coordinates. </p>
<p>Evaluates the nearby tiles to determine how good the placement location is. </p>

<p class="definition">Definition at line <a class="el" href="bot_8c_source.html#l00185">185</a> of file <a class="el" href="bot_8c_source.html">bot.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="structBotState.html#a00dba948f3f7320057341a44ca383def">bot_compute_placement()</a>.</p>

</div>
</div>
<a id="ad9ca662bd40233c10ea853f87d01d81c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9ca662bd40233c10ea853f87d01d81c">&#9670;&nbsp;</a></span>bot_compute_move()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool bot_compute_move </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structBotState.html">BotState</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structCoords.html">Coords</a> *&#160;</td>
          <td class="paramname"><em>out_penguin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structCoords.html">Coords</a> *&#160;</td>
          <td class="paramname"><em>out_target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">related</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Computes the best move for the current player given the current game state. </p>
<p>The overall algorithm is roughly the following:</p>
<ol type="1">
<li>Generate a list of all possible moves with <a class="el" href="structBotState.html#a73ab8326a8d4fdf52efeb7a604706306" title="Creates a list with all the possible moves (as penguin -&gt; target pairs) of the provided penguins.">bot_generate_all_moves_list</a>.</li>
<li>Evaluate all moves in the list by calling <a class="el" href="structBotState.html#a9de032b0515553e20e0bae6819c112d4" title="Applies bot_rate_move to every move in the provided list and returns a pointer to the list of scores.">bot_rate_moves_list</a>.</li>
<li>Assign a score to every move using <a class="el" href="structBotState.html#a6751a836b13b83085d4f3244d4cb29aa" title="The heart of the bot, assigns a score to the given move according to its usefulness.">bot_rate_move</a>.<ol type="a">
<li>Some basic rules are considered first, such as: collecting more fish means a higher score, longer moves mean a lower score.</li>
<li>Then, rules for making the bot <em>aggressive</em> are applied: if the move resulted in blocking an opponent's penguin, its score is increased dramatically.</li>
<li>The scores of obviously stupid moves (such as blocking yourself with your own penguin) are reduced significantly so as to not take them seriously.</li>
<li>And lastly, the most important part of the algorithm takes place: the move is applied to the <a class="el" href="structGame.html" title="The central struct of the application, holds the game data and settings.">Game</a> instance, and the algorithm is repeated recursively from step 1 (generate a list of all moves available from there, assign scores to each and so on and so on). The best next move is selected and its score is added to the score of the currently considered move &ndash; this allows the bot to see future opportunities, including locating and blocking other penguins, which makes it REALLY aggressive (sometimes, though rarely, it even can discover combos). Afterwards, the applied move is undone.</li>
</ol>
</li>
<li>Finally, the move with the highest is selected and returned.</li>
</ol>
<p>Note that when evaluating moves recursively, the provided <a class="el" href="structGame.html" title="The central struct of the application, holds the game data and settings.">Game</a> is modified instead of creating a copy of it each time. However, recursive evaluation currently has a significant limitation &ndash; it only considers sequences of moves of a single penguin, and doesn't take the opponents' moves into account at all (doing otherwise consumes too much computing time).</p>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if a move was found, <code>false</code> if there were no moves available for the player or if the computation was cancelled. If found, the move is written to <code>out_penguin</code> and <code>out_target</code>.</dd></dl>
<p>The aggressive strategy proved to be very effective against other bots, which are usually passive (meaning that they simply try to collect fish) - it first blocks all other players and then collects the rest of the fish. It is even somewhat effective against humans because its aggressiveness essentially relies on the opponent making a mistake, which is not an unreasonable assumption when playing against a human (especially myself). Although, consequently, the stupidest bots, which are simply making literally the first available move after scanning the board (this is what the <a class="el" href="bot_8h.html#ade68828b6d9ea694fb9a344ffc2ab875a6dce1228ca09e14ab7e440c884e34fd3" title="Pick the first possible move (also known as the &quot;dumb&quot; algorithm).">BOT_MOVEMENT_FIRST_POSSIBLE</a> strategy does), ended up being the algorithm's fatal weakness (well, not exactly fatal, it can still win against those) &ndash; primarily because they are very persistent at just moving in a single direction. </p>

<p class="definition">Definition at line <a class="el" href="bot_8c_source.html#l00295">295</a> of file <a class="el" href="bot_8c_source.html">bot.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="autonomous_8c.html#a2a92aa6a15bdfc741aa5a1a7094b3bc2">run_autonomous_mode()</a>.</p>

</div>
</div>
<a id="a73ab8326a8d4fdf52efeb7a604706306"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73ab8326a8d4fdf52efeb7a604706306">&#9670;&nbsp;</a></span>bot_generate_all_moves_list()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structBotMove.html">BotMove</a> * bot_generate_all_moves_list </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structBotState.html">BotState</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>penguins_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structCoords.html">Coords</a> *&#160;</td>
          <td class="paramname"><em>penguins</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>moves_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">related</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a list with all the possible moves (as <code>penguin -&gt; target</code> pairs) of the provided penguins. </p>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the resulting list, whose length is written to the <code>moves_count</code> argument. </dd></dl>

<p class="definition">Definition at line <a class="el" href="bot_8c_source.html#l00330">330</a> of file <a class="el" href="bot_8c_source.html">bot.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="structBotState.html#ad9ca662bd40233c10ea853f87d01d81c">bot_compute_move()</a>, and <a class="el" href="structBotState.html#a6751a836b13b83085d4f3244d4cb29aa">bot_rate_move()</a>.</p>

</div>
</div>
<a id="a9de032b0515553e20e0bae6819c112d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9de032b0515553e20e0bae6819c112d4">&#9670;&nbsp;</a></span>bot_rate_moves_list()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int * bot_rate_moves_list </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structBotState.html">BotState</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>moves_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structBotMove.html">BotMove</a> *&#160;</td>
          <td class="paramname"><em>moves_list</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">related</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Applies <a class="el" href="structBotState.html#a6751a836b13b83085d4f3244d4cb29aa" title="The heart of the bot, assigns a score to the given move according to its usefulness.">bot_rate_move</a> to every move in the provided list and returns a pointer to the list of scores. </p>

<p class="definition">Definition at line <a class="el" href="bot_8c_source.html#l00369">369</a> of file <a class="el" href="bot_8c_source.html">bot.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="structBotState.html#ad9ca662bd40233c10ea853f87d01d81c">bot_compute_move()</a>, and <a class="el" href="structBotState.html#a6751a836b13b83085d4f3244d4cb29aa">bot_rate_move()</a>.</p>

</div>
</div>
<a id="a6751a836b13b83085d4f3244d4cb29aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6751a836b13b83085d4f3244d4cb29aa">&#9670;&nbsp;</a></span>bot_rate_move()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int bot_rate_move </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structBotState.html">BotState</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structBotMove.html">BotMove</a>&#160;</td>
          <td class="paramname"><em>move</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">related</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The heart of the bot, assigns a score to the given move according to its usefulness. </p>
<p>In case a cancellation is requested (see <a class="el" href="structBotState.html#aa9187019d4fb667608b042bdf72a871f" title="Can be set to true from another thread to cancel the move evaluation.">BotState::cancelled</a>), this function starts unwinding the recursive calls and returns some garbage score, but otherwise the move computation is stopped. </p>

<p class="definition">Definition at line <a class="el" href="bot_8c_source.html#l00433">433</a> of file <a class="el" href="bot_8c_source.html">bot.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="structBotState.html#a9de032b0515553e20e0bae6819c112d4">bot_rate_moves_list()</a>.</p>

</div>
</div>
<a id="a90a747f32f7aa32c607e6f069de2f485"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90a747f32f7aa32c607e6f069de2f485">&#9670;&nbsp;</a></span>bot_quick_junction_check()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool bot_quick_junction_check </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structBotState.html">BotState</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structCoords.html">Coords</a>&#160;</td>
          <td class="paramname"><em>coords</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">related</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A precondition for junction checks to know if a more expensive flood fill test is necessary. </p>
<p>A "junction" is a state when then bot has to choose between two or more directions because once it makes a move the other paths will become inaccessible. This function only performs a quick heuristic check which can only tell if the current tile is <em>definitely not</em> a junction, so it is used to know if a further more time-consuming flood fill test is necessary. </p>

<p class="definition">Definition at line <a class="el" href="bot_8c_source.html#l00565">565</a> of file <a class="el" href="bot_8c_source.html">bot.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="structBotState.html#a6751a836b13b83085d4f3244d4cb29aa">bot_rate_move()</a>, and <a class="el" href="structBotState.html#a9de032b0515553e20e0bae6819c112d4">bot_rate_moves_list()</a>.</p>

</div>
</div>
<a id="a7b3d526ca872f1da98b7d63df3b1792a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b3d526ca872f1da98b7d63df3b1792a">&#9670;&nbsp;</a></span>bot_flood_fill_reset_grid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">short * bot_flood_fill_reset_grid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structBotState.html">BotState</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short **&#160;</td>
          <td class="paramname"><em>fill_grid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>fill_grid_cap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">related</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Allocates a grid for use in <a class="el" href="structBotState.html#ad06a633c0dcc623271d461298797a27c" title="Counts all fish accessible within an enclosed area starting at the given point using the flood fill a...">bot_flood_fill_count_fish</a> and fills it with zeroes. </p>

<p class="definition">Definition at line <a class="el" href="bot_8c_source.html#l00620">620</a> of file <a class="el" href="bot_8c_source.html">bot.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="structBotState.html#a6751a836b13b83085d4f3244d4cb29aa">bot_rate_move()</a>, and <a class="el" href="structBotState.html#a9de032b0515553e20e0bae6819c112d4">bot_rate_moves_list()</a>.</p>

</div>
</div>
<a id="a1bf2da2da93ae906c47f90b4dea48ad9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bf2da2da93ae906c47f90b4dea48ad9">&#9670;&nbsp;</a></span>bot_flood_fill_check()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool bot_flood_fill_check </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">related</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>See <a class="el" href="structBotState.html#ad06a633c0dcc623271d461298797a27c" title="Counts all fish accessible within an enclosed area starting at the given point using the flood fill a...">bot_flood_fill_count_fish</a> and <a class="el" href="bot_8h.html#aa9f801ebdb0ce648c9d0cb0837139fb7" title="An implementation of flood fill using the span filling algorithm.">flood_fill</a>. </p>

<p class="definition">Definition at line <a class="el" href="bot_8c_source.html#l00638">638</a> of file <a class="el" href="bot_8c_source.html">bot.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="structBotState.html#ad06a633c0dcc623271d461298797a27c">bot_flood_fill_count_fish()</a>.</p>

</div>
</div>
<a id="a58c22f56703a5618ce4541a26f903322"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58c22f56703a5618ce4541a26f903322">&#9670;&nbsp;</a></span>bot_flood_fill_mark()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void bot_flood_fill_mark </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">related</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>See <a class="el" href="structBotState.html#ad06a633c0dcc623271d461298797a27c" title="Counts all fish accessible within an enclosed area starting at the given point using the flood fill a...">bot_flood_fill_count_fish</a> and <a class="el" href="bot_8h.html#aa9f801ebdb0ce648c9d0cb0837139fb7" title="An implementation of flood fill using the span filling algorithm.">flood_fill</a>. </p>

<p class="definition">Definition at line <a class="el" href="bot_8c_source.html#l00651">651</a> of file <a class="el" href="bot_8c_source.html">bot.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="structBotState.html#ad06a633c0dcc623271d461298797a27c">bot_flood_fill_count_fish()</a>.</p>

</div>
</div>
<a id="a360123acc3c6024fd208b20224d65326"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a360123acc3c6024fd208b20224d65326">&#9670;&nbsp;</a></span>bot_flood_fill_alloc_stack()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structFillSpan.html">FillSpan</a> * bot_flood_fill_alloc_stack </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>capacity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">related</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>See <a class="el" href="structBotState.html#ad06a633c0dcc623271d461298797a27c" title="Counts all fish accessible within an enclosed area starting at the given point using the flood fill a...">bot_flood_fill_count_fish</a> and <a class="el" href="bot_8h.html#aa9f801ebdb0ce648c9d0cb0837139fb7" title="An implementation of flood fill using the span filling algorithm.">flood_fill</a>. </p>

<p class="definition">Definition at line <a class="el" href="bot_8c_source.html#l00661">661</a> of file <a class="el" href="bot_8c_source.html">bot.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="structBotState.html#ad06a633c0dcc623271d461298797a27c">bot_flood_fill_count_fish()</a>.</p>

</div>
</div>
<a id="ad06a633c0dcc623271d461298797a27c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad06a633c0dcc623271d461298797a27c">&#9670;&nbsp;</a></span>bot_flood_fill_count_fish()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int bot_flood_fill_count_fish </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structBotState.html">BotState</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short *&#160;</td>
          <td class="paramname"><em>grid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structCoords.html">Coords</a>&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>marker_value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">related</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Counts all fish accessible within an enclosed area starting at the given point using the flood fill algorithm. </p>
<p>Returns the number of reachable fish, the counted tiles are marked on the provided fill grid with <code>marker_value</code>, which must be non-zero. Additionally is used for junction checks.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="bot_8h.html#aa9f801ebdb0ce648c9d0cb0837139fb7" title="An implementation of flood fill using the span filling algorithm.">flood_fill</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="bot_8c_source.html#l00677">677</a> of file <a class="el" href="bot_8c_source.html">bot.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="structBotState.html#a6751a836b13b83085d4f3244d4cb29aa">bot_rate_move()</a>, and <a class="el" href="structBotState.html#a9de032b0515553e20e0bae6819c112d4">bot_rate_moves_list()</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following files:<ul>
<li>src/<a class="el" href="bot_8h_source.html">bot.h</a></li>
<li>src/<a class="el" href="bot_8c_source.html">bot.c</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="structBotState.html">BotState</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
